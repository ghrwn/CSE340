<section class="account-wrap">
  <h1><%= title %></h1>

  <!-- Errors -->
  <% if (Array.isArray(errors) && errors.length > 0) { %>
    <ul class="notice">
      <% errors.forEach(function(error) { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <form class="account-form" action="/account/register" method="post">

    <label for="account_firstname">First Name:</label>
    <input
      type="text"
      id="account_firstname"
      name="account_firstname"
      required
      value="<%= locals.account_firstname || '' %>"
    />

    <label for="account_lastname">Last Name:</label>
    <input
      type="text"
      id="account_lastname"
      name="account_lastname"
      required
      value="<%= locals.account_lastname || '' %>"
    />

    <label for="account_email">Email Address:</label>
    <input
      type="email"
      id="account_email"
      name="account_email"
      required
      value="<%= locals.account_email || '' %>"
    />

    <label for="account_password">Password:</label>
    <input
      type="password"
      id="account_password"
      name="account_password"
      required
      minlength="12"
      placeholder="Minimum 12 characters, 1 capital letter, 1 number, 1 special character"
    />

    <button type="button" id="pswdBtn">Show Password</button>

    <button type="submit">Register</button>

  </form>

  <p class="account-alt">
    Already have an account?
    <a href="/account/login">Login</a>
  </p>
</section>

<script>
  const pswdBtn = document.querySelector("#pswdBtn")

  pswdBtn.addEventListener("click", function () {
    const pswdInput = document.getElementById("account_password")
    const type = pswdInput.getAttribute("type")

    if (type === "password") {
      pswdInput.setAttribute("type", "text")
      pswdBtn.textContent = "Hide Password"
    } else {
      pswdInput.setAttribute("type", "password")
      pswdBtn.textContent = "Show Password"
    }
  })
</script>